{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/cat-api.js","../src/js/markups.js","../src/js/notification.js","../src/js/main.js"],"sourcesContent":["export const refs = {\n    select: document.querySelector('select.breed-select'),\n    breadContainer: document.querySelector('div.cat-info'),\n    loader: document.querySelector('.loader'),\n    errorField: document.querySelector('p.error'),\n}","import axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_vrovklV9L79Ajq9ux7mli1DRWWaoX5WqWAzKfKcnwo4TbumJO1IlIsKmUzxBiKlf\";\naxios.defaults.baseURL = 'https://api.thecatapi.com/v1';\n\nexport const fetchBreeds = async() => {\n    const { data } = await axios( {\n    method: 'GET',\n    url: '/breeds'\n    });\n    return data;\n}\n\nexport const fetchCatByBreed = async(breedId) => {\n    const { data } = await axios({\n        method: 'GET',\n        url: `/images/search?breed_id=${breedId}`\n    })\n    return data;\n}","export const createOptions = async (options) => options.map(({id, name}) => `\n        <option value=\"${id}\">${name}</option>\n        ` ).join('');\n\n\nexport const drawCat = ({name, description, temperament, url}) => `\n        <div class=\"img-thumb\">\n            <img class=\"breed-img\" src=\"${url}\" alt=\"${name ?? 'Here must be some image'}\">\n        </div>\n        <div class='cat-info-text'>\n            <div>\n                <h2 class=\"breed-title\">${name ?? 'Here must be some text'}</h2>\n                <p class=\"breed-desc\">${description ?? 'Here must be some text'}</p>\n            </div>\n            <div>\n                <h3 class=\"breed-subtitle\">Temperaments: </h3>\n                <p class=\"breed-desc\">${temperament ?? 'Here must be some text'}</p>\n            </div>\n        </div>`;","import iziToast from 'izitoast';\n\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst default_option = {\n    icon: '',\n    position: 'center',\n    timeout: 5000,\n}   \n\n\nexport const showError = (error) =>\n    iziToast.error({\n        ...default_option,\n        title: \"Oops!!!\",\n        message: error.message ? `${error.message}. You can try to reloaded the page.` : error,\n        timeout: 5000,\n    });\n\nexport const showInfo = () =>\n    iziToast.info({\n        ...default_option,\n        title: \"Cat not found!\",\n        message: 'Incorrect cat. Please choose another cat.'\n    });\n\nexport const showErrorPage = (element, error) => {\n    if (element) {\n        setTimeout(() => {\n            element.hidden = false;\n            element.textContent = `Oops!!! ${error.message ? `${error.message}` : error}. You can try to reloaded the page.`\n        }, 5000)\n    }\n}\n","import SlimSelect from 'slim-select';\nimport SimpleBar from 'simplebar';\n\nimport { refs } from './refs';\nimport { fetchBreeds } from './cat-api';\nimport { createOptions, drawCat } from './markups';\nimport { fetchCatByBreed } from './cat-api';\nimport { showError, showErrorPage, showInfo } from './notification';\n\nconst handlerLoader = () => {\n    refs.loader.classList.add('loader-hidden');\n}\nwindow.addEventListener('load', handlerLoader)\n\nconst handlerSelectBreed = async ([{ value }]) => {\n    if (value) {\n        try {\n            refs.loader.classList.toggle('loader-hidden');\n            const data = await fetchCatByBreed(value);\n            if (data && data.length) {\n                refs.breadContainer.innerHTML = '';\n                refs.breadContainer.insertAdjacentHTML('afterbegin', drawCat({... data[0].breeds[0], url: data[0].url}));\n                refs.loader.classList.toggle('loader-hidden');\n            } else {showInfo()}\n        } catch (error) {\n            refs.loader.classList.toggle('loader-hidden');\n            showError(error);\n            showErrorPage(refs.errorField, error);\n        }\n    }\n}\n\n\nconst initSelect = async () => {\n    try {\n        const data = await fetchBreeds();\n        refs.select.innerHTML = await createOptions(data);\n        const select = new SlimSelect({\n            select: 'select.breed-select',\n            events: {\n                afterChange: handlerSelectBreed,\n            }\n        })\n        if (select) new SimpleBar(document.querySelector('.ss-list'));\n    } catch (error) {\n        showError(error);\n        showErrorPage(refs.errorField, error);\n    }\n}\n\ninitSelect();"],"names":["refs","axios","fetchBreeds","data","fetchCatByBreed","breedId","createOptions","options","id","name","drawCat","description","temperament","url","default_option","showError","error","iziToast","showInfo","showErrorPage","element","handlerLoader","handlerSelectBreed","value","initSelect","SlimSelect","SimpleBar"],"mappings":"2wBAAO,MAAMA,EAAO,CAChB,OAAQ,SAAS,cAAc,qBAAqB,EACpD,eAAgB,SAAS,cAAc,cAAc,EACrD,OAAQ,SAAS,cAAc,SAAS,EACxC,WAAY,SAAS,cAAc,SAAS,CAChD,ECHAC,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAI,wEAC7CA,EAAM,SAAS,QAAU,+BAElB,MAAMC,EAAc,SAAW,CAClC,KAAM,CAAE,KAAAC,GAAS,MAAMF,EAAO,CAC9B,OAAQ,MACR,IAAK,SACT,CAAK,EACD,OAAOE,CACX,EAEaC,EAAkB,MAAMC,GAAY,CAC7C,KAAM,CAAE,KAAAF,GAAS,MAAMF,EAAM,CACzB,OAAQ,MACR,IAAK,2BAA2BI,CAAO,EAC/C,CAAK,EACD,OAAOF,CACX,ECnBaG,EAAgB,MAAOC,GAAYA,EAAQ,IAAI,CAAC,CAAC,GAAAC,EAAI,KAAAC,CAAI,IAAM;AAAA,yBACnDD,CAAE,KAAKC,CAAI;AAAA,SACzB,EAAC,KAAK,EAAE,EAGNC,EAAU,CAAC,CAAC,KAAAD,EAAM,YAAAE,EAAa,YAAAC,EAAa,IAAAC,CAAG,IAAM;AAAA;AAAA,0CAExBA,CAAG,UAAUJ,GAAQ,yBAAyB;AAAA;AAAA;AAAA;AAAA,0CAI9CA,GAAQ,wBAAwB;AAAA,wCAClCE,GAAe,wBAAwB;AAAA;AAAA;AAAA;AAAA,wCAIvCC,GAAe,wBAAwB;AAAA;AAAA,gBCXzEE,EAAiB,CACnB,KAAM,GACN,SAAU,SACV,QAAS,GACb,EAGaC,EAAaC,GACtBC,EAAS,MAAM,CACX,GAAGH,EACH,MAAO,UACP,QAASE,EAAM,QAAU,GAAGA,EAAM,OAAO,sCAAwCA,EACjF,QAAS,GACjB,CAAK,EAEQE,EAAW,IACpBD,EAAS,KAAK,CACV,GAAGH,EACH,MAAO,iBACP,QAAS,2CACjB,CAAK,EAEQK,EAAgB,CAACC,EAASJ,IAAU,CACzCI,GACA,WAAW,IAAM,CACbA,EAAQ,OAAS,GACjBA,EAAQ,YAAc,WAAWJ,EAAM,QAAU,GAAGA,EAAM,OAAO,GAAKA,CAAK,qCAC9E,EAAE,GAAI,CAEf,ECzBMK,EAAgB,IAAM,CACxBrB,EAAK,OAAO,UAAU,IAAI,eAAe,CAC7C,EACA,OAAO,iBAAiB,OAAQqB,CAAa,EAE7C,MAAMC,EAAqB,MAAO,CAAC,CAAE,MAAAC,CAAK,CAAE,IAAM,CAC9C,GAAIA,EACA,GAAI,CACAvB,EAAK,OAAO,UAAU,OAAO,eAAe,EAC5C,MAAMG,EAAO,MAAMC,EAAgBmB,CAAK,EACpCpB,GAAQA,EAAK,QACbH,EAAK,eAAe,UAAY,GAChCA,EAAK,eAAe,mBAAmB,aAAcU,EAAQ,CAAC,GAAIP,EAAK,CAAC,EAAE,OAAO,CAAC,EAAG,IAAKA,EAAK,CAAC,EAAE,GAAG,CAAC,CAAC,EACvGH,EAAK,OAAO,UAAU,OAAO,eAAe,GACxCkB,EAAQ,CACnB,OAAQF,EAAO,CACZhB,EAAK,OAAO,UAAU,OAAO,eAAe,EAC5Ce,EAAUC,CAAK,EACfG,EAAcnB,EAAK,WAAYgB,CAAK,CACvC,CAET,EAGMQ,EAAa,SAAY,CAC3B,GAAI,CACA,MAAMrB,EAAO,MAAMD,IACnBF,EAAK,OAAO,UAAY,MAAMM,EAAcH,CAAI,EACjC,IAAIsB,EAAW,CAC1B,OAAQ,sBACR,OAAQ,CACJ,YAAaH,CAChB,CACb,CAAS,GACW,IAAII,EAAU,SAAS,cAAc,UAAU,CAAC,CAC/D,OAAQV,EAAO,CACZD,EAAUC,CAAK,EACfG,EAAcnB,EAAK,WAAYgB,CAAK,CACvC,CACL,EAEAQ,EAAY"}